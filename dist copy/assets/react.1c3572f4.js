var it=Object.defineProperty;var st=(e,i,t)=>i in e?it(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t;var k=(e,i,t)=>(st(e,typeof i!="symbol"?i+"":i,t),t),j=(e,i,t)=>{if(!i.has(e))throw TypeError("Cannot "+t)};var u=(e,i,t)=>(j(e,i,"read from private field"),t?t.call(e):i.get(e)),d=(e,i,t)=>{if(i.has(e))throw TypeError("Cannot add the same private member more than once");i instanceof WeakSet?i.add(e):i.set(e,t)},n=(e,i,t,s)=>(j(e,i,"write to private field"),s?s.call(e,t):i.set(e,t),t);var F=(e,i,t)=>(j(e,i,"access private method"),t);import{R as nt}from"./index.ad66e502.js";const ot="https://open.spotify.com",rt=/open\.spotify\.com\/(\w+)\/(\w+)/i,at="https://open.spotify.com/embed-podcast/iframe-api/v1",ut="SpotifyIframeApi",lt="onSpotifyIframeApiReady";function V(e,i={}){const t={src:Z(e,i),scrolling:"no",frameborder:0,width:"100%",height:"100%",allow:"accelerometer; fullscreen; autoplay; encrypted-media; gyroscope; picture-in-picture"};return`
    <style>
      :host {
        display: inline-block;
        min-width: 160px;
        min-height: 80px;
        position: relative;
      }
      iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
      :host(:not([controls])) {
        display: none !important;
      }
    </style>
    <iframe${ct(t)}></iframe>
  `}function Z(e,i){var t,s,r;if(!e.src)return;const c=e.src.match(rt),g=c&&c[1],w=c&&c[2],A={t:(t=i.config)==null?void 0:t.startAt,theme:((s=i.config)==null?void 0:s.theme)==="dark"?"0":null},l=(r=i.config)!=null&&r.preferVideo?"/video":"";return`${ot}/embed/${g}/${w}${l}?${ht(A)}`}var X,L,S,C,f,p,m,v,_,P,H,O,tt;class R extends((X=globalThis.HTMLElement)!=null?X:class{}){constructor(){super();d(this,O);k(this,"loadComplete",new J);d(this,L,void 0);d(this,S,void 0);d(this,C,void 0);d(this,f,!1);d(this,p,!1);d(this,m,!0);d(this,v,0);d(this,_,NaN);d(this,P,!1);d(this,H,null);F(this,O,tt).call(this,"config")}async load(){var t,s,r;if(u(this,L))return;u(this,S)&&(this.loadComplete=new J),n(this,S,!0),await n(this,L,Promise.resolve()),n(this,L,null),n(this,f,!1),n(this,p,!1),n(this,v,0),n(this,_,NaN),n(this,P,!1),this.dispatchEvent(new Event("emptied"));let c=this.api;if(this.api=null,!this.src)return;this.dispatchEvent(new Event("loadstart"));const g={t:(t=this.config)==null?void 0:t.startAt,theme:((s=this.config)==null?void 0:s.theme)==="dark"?"0":null,preferVideo:(r=this.config)==null?void 0:r.preferVideo};if(u(this,C))this.api=c,this.api.iframeElement.src=Z(Y(this.attributes),this);else{n(this,C,!0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=V(Y(this.attributes),this));let w=this.shadowRoot.querySelector("iframe");const A=await ft(at,ut,lt);this.api=await new Promise(l=>A.createController(w,g,l)),this.api.iframeElement=w,this.api.addListener("ready",()=>{this.dispatchEvent(new Event("loadedmetadata")),this.dispatchEvent(new Event("durationchange")),this.dispatchEvent(new Event("volumechange"))}),this.api.addListener("playback_update",l=>{if(u(this,p)&&u(this,m)&&(l.data.isBuffering||!l.data.isPaused)){n(this,p,!1),this.currentTime=1;return}if(l.data.duration/1e3!==u(this,_)&&(n(this,p,!1),n(this,_,l.data.duration/1e3),this.dispatchEvent(new Event("durationchange"))),l.data.position/1e3!==u(this,v)&&(n(this,P,!1),n(this,p,!1),n(this,v,l.data.position/1e3),this.dispatchEvent(new Event("timeupdate"))),!u(this,f)&&!u(this,m)&&l.data.isPaused){n(this,m,!0),this.dispatchEvent(new Event("pause"));return}if(u(this,m)&&(l.data.isBuffering||!l.data.isPaused)){n(this,m,!1),this.dispatchEvent(new Event("play")),n(this,f,l.data.isBuffering),u(this,f)?this.dispatchEvent(new Event("waiting")):this.dispatchEvent(new Event("playing"));return}if(u(this,f)&&!l.data.isPaused){n(this,f,!1),this.dispatchEvent(new Event("playing"));return}if(!this.paused&&!this.seeking&&!u(this,p)&&Math.ceil(this.currentTime)>=this.duration){if(n(this,p,!0),this.loop){this.currentTime=1;return}this.continuous||(this.pause(),this.dispatchEvent(new Event("ended")));return}})}this.loadComplete.resolve(),await this.loadComplete}async attributeChangedCallback(t,s,r){if(s!==r)switch(t){case"src":{this.load();return}}}async play(){var t;return n(this,m,!1),n(this,f,!0),this.dispatchEvent(new Event("play")),await this.loadComplete,(t=this.api)==null?void 0:t.resume()}async pause(){var t;return await this.loadComplete,(t=this.api)==null?void 0:t.pause()}get config(){return u(this,H)}set config(t){n(this,H,t)}get paused(){var t;return(t=u(this,m))!=null?t:!0}get muted(){return!1}set muted(t){}get volume(){return 1}set volume(t){}get ended(){return Math.ceil(this.currentTime)>=this.duration}get seeking(){return u(this,P)}get loop(){return this.hasAttribute("loop")}set loop(t){this.loop!=t&&this.toggleAttribute("loop",Boolean(t))}get currentTime(){return u(this,v)}set currentTime(t){if(this.currentTime==t)return;n(this,P,!0);let s=u(this,v);n(this,v,t),this.dispatchEvent(new Event("timeupdate")),n(this,v,s),this.loadComplete.then(()=>{var r;(r=this.api)==null||r.seek(t)})}get duration(){return u(this,_)}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",`${t}`)}}L=new WeakMap,S=new WeakMap,C=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,v=new WeakMap,_=new WeakMap,P=new WeakMap,H=new WeakMap,O=new WeakSet,tt=function(t){if(Object.prototype.hasOwnProperty.call(this,t)){const s=this[t];delete this[t],this[t]=s}},k(R,"getTemplateHTML",V),k(R,"shadowRootOptions",{mode:"open"}),k(R,"observedAttributes",["controls","loop","src"]);function ct(e){let i="";for(const t in e){const s=e[t];s===""?i+=` ${t}`:i+=` ${t}="${s}"`}return i}function ht(e){return String(new URLSearchParams(dt(e)))}function dt(e){let i={};for(let t in e){let s=e[t];s===!0||s===""?i[t]=1:s===!1?i[t]=0:s!=null&&(i[t]=s)}return i}function Y(e){let i={};for(let t of e)i[t.name]=t.value;return i}const N={};async function ft(e,i,t){return N[e]?N[e]:i&&self[i]?Promise.resolve(self[i]):N[e]=new Promise(function(s,r){const c=document.createElement("script");c.src=e;const g=w=>s(w);t&&(self[t]=g),c.onload=()=>!t&&g(),c.onerror=r,document.head.append(c)})}class J extends Promise{constructor(i=()=>{}){let t,s;super((r,c)=>{i(r,c),t=r,s=c}),this.resolve=t,this.reject=s}}globalThis.customElements&&!globalThis.customElements.get("spotify-audio")&&globalThis.customElements.define("spotify-audio",R);var pt=R,mt=new Set(["style","children","ref","key","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML"]),vt={className:"class",htmlFor:"for"};function et(e){return e.toLowerCase()}function K(e){if(typeof e=="boolean")return e?"":void 0;if(typeof e!="function"&&!(typeof e=="object"&&e!==null))return e}function gt({react:e,tagName:i,elementClass:t,events:s,displayName:r,defaultProps:c,toAttributeName:g=et,toAttributeValue:w=K}){const A=Number.parseInt(e.version)>=19,l=e.forwardRef((W,M)=>{var U,q,G;var x,z;const E=e.useRef(null),$=e.useRef(new Map),B={},D={},b={},I={};for(const[o,a]of Object.entries(W)){if(mt.has(o)){b[o]=a;continue}const h=g((U=vt[o])!=null?U:o);if(t.prototype&&o in t.prototype&&!(o in((q=(x=globalThis.HTMLElement)==null?void 0:x.prototype)!=null?q:{}))&&!((z=t.observedAttributes)!=null&&z.some(T=>T===h))){I[o]=a;continue}if(o.startsWith("on")){B[o]=a;continue}const y=w(a);if(h&&y!=null&&(D[h]=String(y),A||(b[h]=y)),h&&A){const T=K(a);y!==T?b[h]=y:b[h]=a}}if(typeof window<"u"){for(const o in B){const a=B[o],h=o.endsWith("Capture"),y=((G=s==null?void 0:s[o])!=null?G:o.slice(2).toLowerCase()).slice(0,h?-7:void 0);e.useLayoutEffect(()=>{const T=E==null?void 0:E.current;if(!(!T||typeof a!="function"))return T.addEventListener(y,a,h),()=>{T.removeEventListener(y,a,h)}},[E==null?void 0:E.current,a])}e.useLayoutEffect(()=>{if(E.current===null)return;const o=new Map;for(const a in I)Q(E.current,a,I[a]),$.current.delete(a),o.set(a,I[a]);for(const[a,h]of $.current)Q(E.current,a,void 0);$.current=o})}if(typeof window>"u"&&(t==null?void 0:t.getTemplateHTML)&&(t==null?void 0:t.shadowRootOptions)){const{mode:o,delegatesFocus:a}=t.shadowRootOptions,h=e.createElement("template",{shadowrootmode:o,shadowrootdelegatesfocus:a,dangerouslySetInnerHTML:{__html:t.getTemplateHTML(D,W)}});b.children=[h,b.children]}return e.createElement(i,{...c,...b,ref:e.useCallback(o=>{E.current=o,typeof M=="function"?M(o):M!==null&&(M.current=o)},[M])})});return l.displayName=r!=null?r:t.name,l}function Q(e,i,t){var r;var s;e[i]=t,t==null&&i in((r=(s=globalThis.HTMLElement)==null?void 0:s.prototype)!=null?r:{})&&e.removeAttribute(i)}var yt=gt({react:nt,tagName:"spotify-audio",elementClass:pt,toAttributeName(e){return e==="muted"?"":e==="defaultMuted"?"muted":et(e)}});/*! Bundled license information:

ce-la-react/dist/ce-la-react.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *
   * Modified version of `@lit/react` for vanilla custom elements with support for SSR.
   *)
*/export{yt as default};
