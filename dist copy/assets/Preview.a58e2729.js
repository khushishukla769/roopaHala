import{r as m,R as b,j as E,b as g}from"./index.ad66e502.js";const c="64px",d={},N=({src:n,light:t,oEmbedUrl:s,onClickPreview:a,playIcon:x,previewTabIndex:_,previewAriaLabel:p})=>{const[u,r]=m.exports.useState(null);m.exports.useEffect(()=>{!n||!t||!s||I({src:n,light:t,oEmbedUrl:s})},[n,t,s]);const I=async({src:e,light:i,oEmbedUrl:k})=>{if(b.isValidElement(i))return;if(typeof i=="string"){r(i);return}if(d[e]){r(d[e]);return}r(null);const h=await(await fetch(k.replace("{url}",e))).json();if(h.thumbnail_url){const y=h.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");r(y),d[e]=y}},v=e=>{(e.key==="Enter"||e.key===" ")&&(a==null||a(e))},w=e=>{a==null||a(e)},o=b.isValidElement(t),f={display:"flex",alignItems:"center",justifyContent:"center"},l={preview:{width:"100%",height:"100%",backgroundImage:u&&!o?`url(${u})`:void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",...f},shadow:{background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:c,width:c,height:c,position:o?"absolute":void 0,...f},playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},j=g("div",{style:l.shadow,className:"react-player__shadow",children:g("div",{style:l.playIcon,className:"react-player__play-icon"})});return E("div",{style:l.preview,className:"react-player__preview",tabIndex:_,onClick:w,onKeyPress:v,...p?{"aria-label":p}:{},children:[o?t:null,x||j]})};var P=N;export{P as default};
